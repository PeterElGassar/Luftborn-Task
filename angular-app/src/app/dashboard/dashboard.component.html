<p-confirmDialog [style]="{width: '50vw'}" [baseZIndex]="10000" rejectButtonStyleClass="p-button-text"></p-confirmDialog>
<p-toast position="top-right" key="del"></p-toast>
<div class="container-grid">
  <nav class="navbar">
    <div class="nav_icon" onclick="toggleSidebar()">
      <i class="fa fa-bars" aria-hidden="true"></i>
    </div>
    <div class="navbar__left">

    </div>
    <div class="navbar__right">
   
   
    </div>
  </nav>

  <main>
    <div class="main__container">

      <div class="row">
        <div class="col-12 my-4">
      
          <!-- Button trigger modal -->
          <button type="button" (click)="addNewClick()" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
            Create New
            <i class="fa fa-plus test-light"></i>
          </button>

        </div>
      </div>


      <table class="table">
        <thead>
          <tr>
            <th scope="col">First Name</th>
            <th scope="col">Middel Name</th>
            <th scope="col">Last Name</th>
            <th scope="col">Country</th>
            <th scope="col">Education Level</th>

            <th scope="col">Control</th>
          </tr>
        </thead>
        <tbody>

          <tr *ngFor="let candidate of candidates">
            <!-- <th scope="row"></th> -->
            <td>{{candidate.firstName}}</td>
            <td>{{candidate.middleName}}</td>
            <td>{{candidate.lastName}}</td>
            <td>{{candidate.country}}</td>
            <td>{{candidate.educationLevel}}</td>

            <td>
              <button class="btn btn-success m-1" (click)="editClick(candidate)" data-bs-toggle="modal" data-bs-target="#exampleModal"><i class="pi pi-user-edit"></i></button>
              <button class="btn btn-danger m-1"  (click)="confirm(candidate.id)"><i class="pi pi-trash"></i></button>
            </td>

          </tr>




        </tbody>
      </table>


    </div>
  </main>

  <div id="sidebar">
    <div class="sidebar__title">
      <div class="sidebar__img">
        <h1 *ngIf="(currentUser$ |async) === null">
           <span >({{(currentUser$ | async).name}})</span>
        </h1>
      </div>
      <i onclick="closeSidebar()" class="fa fa-times" id="sidebarIcon" aria-hidden="true">
      </i>
    </div>

    <div class="sidebar__menu">
      <div class="sidebar__link active_menu_link">
        <i class="fa fa-home"></i>
        <a href="#">Dashboard</a>
      </div>

      <div class="sidebar__logout">
        <i class="fa fa-power-off"></i>

        <a  (click)="logout()">Log out</a>
      </div>
    </div>
  </div>
</div>








<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1"
 aria-labelledby="exampleModalLabel" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false" >
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">{{modalTitle}}</h5>
        <button (click)="closeModal()"type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
             <!-- render form here -->
           <app-add-edit-media [candidate]="candidate" *ngIf="ActivateAddEdit">
          </app-add-edit-media>
           <!-- render form here -->

      </div>
      <div class="modal-footer">
        <button (click)="closeModal()" type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>












 